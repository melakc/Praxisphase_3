<!Doctype html>
<html>

<head>
    <meta charset="UTF-8" />
    <title>Hallo!</title>
    <script src="libs/babel.min.js"></script>
    <!-- <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script> -->
    <script src="libs/react.js"></script>
    <script src="libs/react-dom.js"></script>
    <style> 
    </style>

</head>

<body>
    <div id="greeterMountPoint"></div>
</body>
<script type="text/babel">
        class Greeter extends React.Component {
            constructor(props){
                super(props);
                this.state= {
                  greeting: ''
                }
              
            }
           
            onGreetingChange(event) {
                this.setState({
                    greeting: event.target.value
                });
            }
            onGreetClicked() {
                // darf nur eine Variable haben->Variablen inline (kein "" + ""+ etc)
                alert(`Hello, ${this.state.greeting}`);
            }
            getCharsRemaining(){
                //wie debugging nur leichter
                console.log(this.props.maxLength);
                console.log(this.state.greeting.length);
                
                return this.props.maxLength - this.state.greeting.length;
            }
            hasRemainingChars(){
                return getCharsRemaining()>0;
            }
            isGreetingValid(){
                return (this.state.greeting.length>0 &&
                this.getCharsRemaining()>=0);
            }

            render() {
                const greetingValid = this.isGreetingValid();
                 return (
                    <div>
                        <form > 
                        <span>Whaaasup: </span>
                        <input value={this.state.greeting}
                        onChange={(e)=>this.onGreetingChange(e)}>
                        </input>
                        <span >{this.getCharsRemaining()}</span>
                        <button
                        disabled={!greetingValid}
                        onClick={()=>this.onGreetClicked()}>Grüßchen
                        </button>
                        </form>
                    </div>
                 );
            }
        }
        ReactDOM.render(<Greeter  maxLength={10}/>, document.getElementById('greeterMountPoint'));
        
    </script>

</html>